---
:version: 1
:files:
  capsule_certs:
    :data:
      :values:
        parent_fqdn: fqdn
        capsule_fqdn: certs::node_fqdn
        certs_tar: certs::params::certs_tar
      :validations:
      - !ruby/object:KafoParsers::Validation
        name: validate_present
        arguments:
        - $certs_tar
      - !ruby/object:KafoParsers::Validation
        name: validate_present
        arguments:
        - $capsule_fqdn
      :parameters:
      - parent_fqdn
      - capsule_fqdn
      - certs_tar
      :docs:
        parent_fqdn:
        - fqdn of the parent node. Does not usually
        - need to be set.
        capsule_fqdn:
        - fqdn of the capsule. REQUIRED
        certs_tar:
        - path to tar file with certs to generate. REQUIRED
      :types: {}
      :groups:
        parent_fqdn:
        - 'Parameters:'
        capsule_fqdn:
        - 'Parameters:'
        certs_tar:
        - 'Parameters:'
      :conditions:
        parent_fqdn: 
        capsule_fqdn: 
        certs_tar: 
      :object_type: hostclass
    :mtime: 1475676127
  certs:
    :data:
      :values:
        log_dir: certs::params::log_dir
        node_fqdn: certs::params::node_fqdn
        generate: certs::params::generate
        regenerate: certs::params::regenerate
        regenerate_ca: certs::params::regenerate_ca
        deploy: certs::params::deploy
        ca_common_name: certs::params::ca_common_name
        country: certs::params::country
        state: certs::params::state
        city: certs::params::city
        org: certs::params::org
        org_unit: certs::params::org_unit
        expiration: certs::params::expiration
        ca_expiration: certs::params::ca_expiration
        server_cert: certs::params::server_cert
        server_key: certs::params::server_key
        server_cert_req: certs::params::server_cert_req
        server_ca_cert: certs::params::server_ca_cert
        pki_dir: certs::params::pki_dir
        ssl_build_dir: certs::params::ssl_build_dir
        user: certs::params::user
        group: certs::params::group
        default_ca_name: certs::params::default_ca_name
        server_ca_name: certs::params::server_ca_name
      :validations: []
      :parameters:
      - log_dir
      - node_fqdn
      - generate
      - regenerate
      - regenerate_ca
      - deploy
      - ca_common_name
      - country
      - state
      - city
      - org
      - org_unit
      - expiration
      - ca_expiration
      - server_cert
      - server_key
      - server_cert_req
      - server_ca_cert
      - pki_dir
      - ssl_build_dir
      - user
      - group
      - default_ca_name
      - server_ca_name
      :docs:
        log_dir:
        - When the log files should go
        node_fqdn:
        - The fqdn of the host the generated certificates
        - should be for
        generate:
        - Should the generation of the certs be part of the
        - configuration
        regenerate:
        - Force regeneration of the certificates (excluding
        - ca certificates)
        regenerate_ca:
        - Force regeneration of the ca certificate
        deploy:
        - Deploy the certs on the configured system. False means
        - we want apply it on a different system
        ca_common_name:
        - Common name for the generated CA certificate
        country:
        - Country attribute for managed certificates
        state:
        - State attribute for managed certificates
        city:
        - City attribute for managed certificates
        org:
        - Org attribute for managed certificates
        org_unit:
        - Org unit attribute for managed certificates
        expiration:
        - Expiration attribute for managed certificates
        ca_expiration:
        - Ca expiration attribute for managed certificates
        server_ca_cert:
        - Path to the CA that issued the ssl certificates for https
        - if not specified, the default CA will be used
        server_cert:
        - Path to the ssl certificate for https
        - if not specified, the default CA will generate one
        server_key:
        - Path to the ssl key for https
        - if not specified, the default CA will generate one
        server_cert_req:
        - Path to the ssl certificate request for https
        pki_dir:
        - The PKI directory under which to place certs
        ssl_build_dir:
        - The directory where SSL keys, certs and RPMs will be generated
        user:
        - The system user name who should own the certs;
        group:
        - The group who should own the certs;
        default_ca_name:
        - The name of the default CA
        server_ca_name:
        - The name of the server CA (used for https)
      :types:
        generate: boolean
        regenerate: boolean
        regenerate_ca: boolean
        deploy: boolean
        ca_common_name: string
        country: string
        state: string
        city: string
        org: string
        org_unit: string
        expiration: string
        ca_expiration: string
      :groups:
        log_dir:
        - 'Class: certs'
        - 'Parameters:'
        node_fqdn:
        - 'Class: certs'
        - 'Parameters:'
        generate:
        - 'Class: certs'
        - 'Parameters:'
        regenerate:
        - 'Class: certs'
        - 'Parameters:'
        regenerate_ca:
        - 'Class: certs'
        - 'Parameters:'
        deploy:
        - 'Class: certs'
        - 'Parameters:'
        ca_common_name:
        - 'Class: certs'
        - 'Parameters:'
        country:
        - 'Class: certs'
        - 'Parameters:'
        state:
        - 'Class: certs'
        - 'Parameters:'
        city:
        - 'Class: certs'
        - 'Parameters:'
        org:
        - 'Class: certs'
        - 'Parameters:'
        org_unit:
        - 'Class: certs'
        - 'Parameters:'
        expiration:
        - 'Class: certs'
        - 'Parameters:'
        ca_expiration:
        - 'Class: certs'
        - 'Parameters:'
        server_ca_cert:
        - 'Class: certs'
        - 'Parameters:'
        server_cert:
        - 'Class: certs'
        - 'Parameters:'
        server_key:
        - 'Class: certs'
        - 'Parameters:'
        server_cert_req:
        - 'Class: certs'
        - 'Parameters:'
        pki_dir:
        - 'Class: certs'
        - 'Parameters:'
        ssl_build_dir:
        - 'Class: certs'
        - 'Parameters:'
        user:
        - 'Class: certs'
        - 'Parameters:'
        group:
        - 'Class: certs'
        - 'Parameters:'
        default_ca_name:
        - 'Class: certs'
        - 'Parameters:'
        server_ca_name:
        - 'Class: certs'
        - 'Parameters:'
      :conditions:
        log_dir: 
        node_fqdn: 
        generate: 
        regenerate: 
        regenerate_ca: 
        deploy: 
        ca_common_name: 
        country: 
        state: 
        city: 
        org: 
        org_unit: 
        expiration: 
        ca_expiration: 
        server_ca_cert: 
        server_cert: 
        server_key: 
        server_cert_req: 
        pki_dir: 
        ssl_build_dir: 
        user: 
        group: 
        default_ca_name: 
        server_ca_name: 
      :object_type: hostclass
    :mtime: 1475676127
